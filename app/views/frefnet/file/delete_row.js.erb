var rowId = $('#' + "<%= params.fetch(:id) %>")
var row = rowId.closest('.tdesk-multiple-file-upload-row');
var hiddenFieldId = rowId.closest('form').attr('id')
var hiddenField = $('#' + hiddenFieldId + '-field')

deleteRow(row, hiddenField)

function deleteRow(rowSelector, hiddenFieldSelector) {
  var rowCount = $('.tdesk-multiple-file-upload-row').length

  if (rowCount === 1) {
    toastr.warning('You must upload at least one file')
    return
  }

  rowSelector.remove()
  hiddenFieldSelector.remove()
}
